Тестовое задание Mindbox на позицию SRE

Принятые решения

Я новичок в Kubernetes, но я постарался изучить материалы и сделать решение, исходя из условий задачи. Вот что я реализовал и почему:

1. Deployment (deployment.yaml):
   · Выставил replicas: 4, так как по условию 4 пода справляются с пиковой нагрузкой.
   · Добавил affinity и tolerations, чтобы попытаться распределить поды по разным нодам и зонам для отказоустойчивости (как и просили).
   · Настроил resources (requests/limits) на основе вводных: память 128Mi, CPU от 0.05 до 0.5.
   · Добавил все три пробы (startupProbe, livenessProbe, readinessProbe), потому что прочитал, что это лучшая практика для приложений с долгой инициализацией.
2. Service (service.yaml):
   · Создал простой Service типа ClusterIP для внутреннего доступа к подам. Для внешнего доступа, я так понимаю, нужен еще Ingress.
3. HPA (hpa.yaml):
   · Добавил Horizontal Pod Autoscaler, чтобы приложение могло масштабироваться от 2 до 8 подов. Это должно помочь с ночным снижением нагрузки и дневным пиком.
   · Настроил масштабирование по CPU на 70%, как часто рекомендуют.
4. PDB (pdb.yaml):
   · Добавил Pod Disruption Budget с minAvailable: 2, чтобы при плановых работах в кластере всегда оставалось хотя бы 2 работающих пода для отказоустойчивости.

Я осознаю, что мое решение может быть неидеальным. Но я очень хочу разобраться в этом глубже и научиться у вашей команды!

Спасибо за возможность попробовать свои силы.
